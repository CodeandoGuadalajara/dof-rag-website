---
import '../styles/global.css';

interface Props {
	title?: string;
}

const { title = 'DOF-RAG Blog' } = Astro.props;
---

<!doctype html>
<html lang="es">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width" />
		<link rel="icon" type="image/svg+xml" href="/favicon.svg" />
		<meta name="generator" content={Astro.generator} />
		<title>{title}</title>
	</head>
	<body>
		<header class="border-b border-[var(--color-border)] py-4 sticky top-0 backdrop-blur-md z-10" style="background-color: rgba(var(--color-bg-rgb), 0.8);">
			<div class="container flex justify-between items-center">
				<a href="/" class="text-2xl font-bold flex items-center">
					<span class="gradient-text">DOF-RAG</span>
				</a>
				<nav class="flex items-center gap-6">
					<a href="/" class="hover:text-[var(--color-accent)]">Inicio</a>
					<a href="/about" class="hover:text-[var(--color-accent)]">Acerca de</a>
					<button id="theme-toggle" class="p-2 rounded-full hover:bg-[var(--color-border)] ml-2">
						<svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" id="moon-icon" fill="none" viewBox="0 0 24 24" stroke="currentColor">
							<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z" />
						</svg>
						<svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 hidden" id="sun-icon" fill="none" viewBox="0 0 24 24" stroke="currentColor">
							<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z" />
						</svg>
					</button>
				</nav>
			</div>
		</header>
		<main class="container py-12">
			<slot />
		</main>
		<footer class="py-8 border-t border-[var(--color-border)] mt-20">
			<div class="container">
				<div class="grid grid-cols-1 md:grid-cols-3 gap-8">
					<div>
						<h3 class="text-xl font-bold mb-4 gradient-text">DOF-RAG</h3>
						<p class="text-[var(--color-muted)]">
							Proyecto de investigación para el procesamiento y análisis de información del Diario Oficial de la Federación.
						</p>
					</div>
					<div>
						<h3 class="text-lg font-bold mb-4">Recursos</h3>
						<ul class="space-y-2">
							<li><a href="/" class="text-[var(--color-muted)] hover:text-[var(--color-accent)]">Blog</a></li>
							<li><a href="/about" class="text-[var(--color-muted)] hover:text-[var(--color-accent)]">Acerca de</a></li>
						</ul>
					</div>
					<div>
						<h3 class="text-lg font-bold mb-4">Contacto</h3>
						<p class="text-[var(--color-muted)]">
							Correo: <a href="mailto:contacto@dofrag.mx" class="text-[var(--color-accent)] hover:underline">contacto@dofrag.mx</a>
						</p>
					</div>
				</div>
				<div class="mt-10 text-center text-[var(--color-muted)] text-sm">
					<p>© {new Date().getFullYear()} DOF-RAG Project. Todos los derechos reservados.</p>
				</div>
			</div>
		</footer>
	</body>
</html>

<script>
	// Tema oscuro/claro
	const themeToggle = document.getElementById('theme-toggle');
	const sunIcon = document.getElementById('sun-icon');
	const moonIcon = document.getElementById('moon-icon');
	
	// Por defecto, usar tema oscuro (como Astro)
	const savedTheme = localStorage.getItem('theme');
	if (savedTheme === 'light') {
		document.body.classList.add('light-theme');
		moonIcon?.classList.add('hidden');
		sunIcon?.classList.remove('hidden');
	}
	
	themeToggle?.addEventListener('click', () => {
		document.body.classList.toggle('light-theme');
		sunIcon?.classList.toggle('hidden');
		moonIcon?.classList.toggle('hidden');
		
		// Guardar preferencia
		if (document.body.classList.contains('light-theme')) {
			localStorage.setItem('theme', 'light');
		} else {
			localStorage.setItem('theme', 'dark');
		}
	});
</script>

<style>
	html {
		scroll-behavior: smooth;
	}
</style>
